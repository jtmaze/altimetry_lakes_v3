ggplot(df_long %>% filter(Metric == "obs5_percent"), aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of lakes with at least 1 summer observation",
x = "ROI Name",
y = "Percentage") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
ggplot(df_long %>% filter(Metric == "obs10_percent"), aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of lakes with at least 1 summer observation",
x = "ROI Name",
y = "Percentage") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
ggplot(df_long %>% filter(Metric == "obs10_percent"),
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with at least 2 summer observations",
x = "ROI Name",
y = "Percentage of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
ggplot(df_long %>% filter(Metric == "obs5_percent"),
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
rm(list=ls())
library(tidyverse)
library(wesanderson)
df <- read.csv('./data/IS2_obscnts.csv')
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name))))
df_long <- df %>%
pivot_longer(cols = c("matched_percent", "obs5_percent", "obs10_percent"),
names_to = "Metric", values_to = "Percentage") %>%
ifelse(df_long$Metric == 'matched_percent', '1. One summer observation all years (2019-2023)',
ifelse(df_long$Metric == 'obs5_percent', '2. At least on summer observation per year',
ifelse(df_long$Metric == 'obs10_percent', '3. Multiple summer observations per year')))
df_long <- df %>%
pivot_longer(cols = c("matched_percent", "obs5_percent", "obs10_percent"),
names_to = "Metric", values_to = "Percentage") %>%
mutate(Metric = case_when(
Metric == 'matched_percent' ~ '1. One summer observation all years (2019-2023)',
Metric == 'obs5_percent' ~ '2. At least one summer observation per year',
Metric == 'obs10_percent' ~ '3. Multiple summer observations per year',
TRUE ~ Metric  # Preserve original value if no match
))
View(df_long)
rm(list=ls())
library(tidyverse)
library(wesanderson)
df <- read.csv('./data/IS2_obscnts.csv')
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name)))) %>%
rename()
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name)))) %>%
df <- df %>%
rename(
`1. One summer observation all years (2019-2023)` = matched_percent,
`2. At least one summer observation per year` = obs5_percent,
`3. Multiple summer observations per year` = obs10_percent
)
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name))))
df <- df %>%
rename(
`1. One summer observation all years (2019-2023)` = matched_percent,
`2. At least one summer observation per year` = obs5_percent,
`3. Multiple summer observations per year` = obs10_percent
)
View(df)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 20, hjust = 1),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 0, hjust = 1),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 0, hjust = 0),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 0, hjust = -2),
legend.position = "none")
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales='free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = "ROI Name",
y = "% of PLD lakes") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 0, hjust = 1.5),
legend.position = "none")
View(df_long)
View(df_long)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes") +
theme_minimal() +
theme(
axis.text.x = element_blank(),    # Remove x-axis text labels
axis.title.x = element_blank(),   # Remove x-axis title
legend.position = "bottom"        # Position the legend at the bottom
)
rm(list=ls())
y
library(tidyverse)
library(wesanderson)
df <- read.csv('./data/IS2_obscnts.csv')
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name))))
df <- df %>%
rename(
`1. One summer observation all years (2019-2023)` = matched_percent,
`2. At least one summer observation per year` = obs5_percent,
`3. Multiple summer observations per year` = obs10_percent
)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(roi_name_total = paste0(roi_name + '  total lakes =' + total_lakes))
# Create the faceted bar plot with custom theme
ggplot(df_long,
aes(x = roi_name, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes") +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold", hjust = 0.5, size = 14),
strip.text = element_text(face = "bold")
)
library(tidyverse)
library(wesanderson)
df <- read.csv('./data/IS2_obscnts.csv')
df$roi_name <- ifelse(df$roi_name == "YKflats", "Yukon Flats",
ifelse(df$roi_name == "YKdelta", "Yukon Delta",
ifelse(df$roi_name == "MRD_TUK_Anderson", "Mckenzie River Delta / Tuktoyaktuk Peninsula",
ifelse(df$roi_name == "AKCP", "Alaska Coastal Plain", df$roi_name))))
df <- df %>%
rename(
`1. One summer observation all years (2019-2023)` = matched_percent,
`2. At least one summer observation per year` = obs5_percent,
`3. Multiple summer observations per year` = obs10_percent
)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(mutate(roi_name_total = paste(roi_name, "total lakes =", total_lakes, sep = "  ")))
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(roi_name_total = paste0(roi_name, "  total lakes = ", total_lakes))
View(df_long)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity") +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes") +
theme_minimal() +
theme(
axis.text.x = element_blank(),    # Remove x-axis text labels
axis.title.x = element_blank(),   # Remove x-axis title
legend.position = "bottom"        # Position the legend at the bottom
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes") +
theme_minimal() +
theme(
axis.text.x = element_blank(),    # Remove x-axis text labels
axis.title.x = element_blank(),   # Remove x-axis title
legend.position = "bottom"        # Position the legend at the bottom
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes") +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes with annual ICESat-2 summer observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name_total)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(roi_name_total = paste0(roi_name, " with total PLD lakes = (rounded)", total_lakes))
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name_total)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(roi_name_total = paste0(roi_name, " with total PLD lakes = ", total_lakes))
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name_total)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
df_long <- df %>%
pivot_longer(cols = c(`1. One summer observation all years (2019-2023)`,
`2. At least one summer observation per year`,
`3. Multiple summer observations per year`),
names_to = "Metric", values_to = "Percentage") %>%
mutate(roi_name_total = paste0(roi_name, " total PLD lakes = ", total_lakes))
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name_total)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lakes ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
# Updated ggplot code
ggplot(df_long,
aes(x = roi_name_total, y = Percentage, fill = roi_name_total)) +
geom_bar(stat = "identity", width=0.5) +
facet_wrap(~ Metric, nrow = 3, scales = 'free_y') +
scale_fill_manual(values = wes_palette("Chevalier1",
n = length(unique(df_long$roi_name)),
type = "continuous")) +
labs(title = "Percentage of PLD lake with ICESat-2 summer WSE observations",
x = NULL,
y = "% of PLD lakes",
fill = NULL) +
theme_minimal() +
theme(
axis.text.x = element_blank(),
axis.title.x = element_blank(),
legend.position = "bottom",
plot.title = element_text(face = "bold",
hjust = 0.5,
size = 14),
strip.text = element_text(face = "bold")
)
